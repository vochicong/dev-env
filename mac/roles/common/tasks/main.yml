- name: Update homebrew and upgrade all packages
  homebrew:
    update_homebrew: yes
    upgrade_all: yes
- name: Install common packages
  homebrew: name={{ item }}
  with_items:
    - tree
    - git
    - zsh
    - zsh-completions
    # install oh-my-zsh by:
    # sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"
    - tmux
    - vim
  tags:
    - common
- name: Add homebrew tap repositories
  homebrew_tap: tap={{ item }} state=present
  with_items:
    - caskroom/cask
    - homebrew/services
- name: Install homebrew cask packages
  homebrew_cask: name={{ item }}
  with_items:
    - coteditor
    - atom
    - visual-studio-code
    - iterm2
    - slack
  tags:
    - common
